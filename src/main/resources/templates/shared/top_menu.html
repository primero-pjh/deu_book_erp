<script type="text/x-template" id="top_menu">
    <div>
        <q-bar style="height: 45px;" class="bg-primary text-white">
            <q-btn dense flat icon="home" @click="location_href('')"></q-btn>
            <div class="text-weight-bold">
                deuERP
            </div>
            <q-space></q-space>
            <q-btn :label="account.userId" icon="person" class="text-white">
                <q-menu>
                    <q-list style="min-width: 100px">
                        <q-item clickable v-close-popup dense>
                            <q-item-section @click="handleLogout">로그아웃</q-item-section>
                        </q-item>
                    </q-list>
                </q-menu>
            </q-btn>
        </q-bar>
    </div>
</script>


<script>
    app.component("top_menu", {
        template: "#top_menu",
        data() {
            return {
                account: {
                    accountId: 1,
                    userId: '123',
                    phoneNumber: '',
                    lastLoginDate: '',
                    status: 1,
                    isAdmin: 1,
                },
            }
        },
        methods: {
            location_href: function(url) {
                window.location.href = "/" + url;
            },
            handleLogout: function() {
                var vm = this;
                $p.deleteToken("jwt");
                $p.location_href('/login');
            },
        },
        mounted: function() {
            var vm = this;
        }
    });
</script>
